
<div class="container py-4">
  <%= simple_form_for(@user, url: update_user_ingredients_path, method: :patch) do |f| %>
  <div class="ingredient-form" data-controller="ingredient">
    <input type="text" id="ingredient-input" class="ingredient-input" name="user[ingredient_list][]" placeholder="Any ingredients at home?" data-ingredient-target="input">
    <button type="button" id="add-ingredient" class="add-ingredient-button" data-action="click->ingredient#addIngredient">Add</button>
  </div>

  <div class="selected-ingredients">
    <ul id="selected-ingredients-list" class="selected-ingredients-list" data-ingredient-target="listItem">
      <!-- Newly added ingredients will be displayed here via JavaScript -->
    </ul>
  </div>

    <p> Press on the added ingredients to remove from list</p>
    <%= link_to "Previous", edit_user_cuisines_path, method: :get %>
    <%= f.submit "Save" %>
    <%= link_to "Skip", recipes_path, method: :get %>
  <% end %>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>;
<script>
  $(document).ready(function() {
    $('.add-ingredient-button').click(function() {
      console.log('Button clicked'); // Log a message when the button is clicked
      var ingredient = $('.ingredient-input').val();
      if (ingredient.trim() !== '') {
        // Create a new list item and append it to the selected-ingredients-list
        var listItem = $('<li>').text(ingredient);
        $('#selected-ingredients-list').append(listItem);

        // Clear the input field
        $('.ingredient-input').val('');
      }
    })
  });
</script>
