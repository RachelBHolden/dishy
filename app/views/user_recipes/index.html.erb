<%# <%= render "shared/navbar" %>

<div class="swiper">
  <div class="swiper-wrapper">
    <% @recipes.each do |recipe| %>
      <div class="swiper-slide" style="background-image: url('<%= asset_path(recipe.photo_url)%>')" >
        <div class="container mt-auto text-center text-white">
          <%= link_to favourites_path(recipe) do %>
            <i class="far fa-heart"></i>
          <% end %>
          <%= link_to user_recipes_path(recipe) do %>
            <i class="far fa-circle-xmark"></i>
          <% end %>
          <h2><%= recipe.name %></h2>
          <%= link_to "See more details", user_recipe_path(recipe) %>
          <%= link_to "Edit preferences", edit_user_cuisines_path %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<script type="module">
  import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.mjs'

  const swiper = new Swiper('.swiper', {
      on: {
      init: function () {
        console.log('swiper initialized');
      },
    },
    // Optional parameters
    // direction: 'vertical',
    // loop: true,

    // If we need pagination
    // pagination: {
    //   el: '.swiper-pagination',
    // },

    // Navigation arrows
    // navigation: {
    //   nextEl: '.swiper-button-next',
    //   prevEl: '.swiper-button-prev',
    // },

    // And if we need scrollbar
  //   scrollbar: {
  //     el: '.swiper-scrollbar',
  //   },
  });
</script>
